01.06
/*생각해 봐야할 점들
방 만들 때
* 출발지는 핑 찍어서 생성한다 -> 경도 위도 기반으로 찍힐 것임.
핑 간이정보에 방 생성 버튼을 누르면 방 생성(입력) 화면으로??
* 도착지는 어떻게?? 단순히 경도위도로 받으면 좀 그럼..
* 검색의 용이성을 위해서라면 실제 지도 서비스처럼 해야하나?
* 실제는 단순지명 입력시 연관지명으로 저장된 주소값들이 나열되어서 선택함.
* 쉬운 방법은 도착지에다가 핑찍으라고 하는 것 -> 위도 경도 바로 받아오면 되니까
방 생성 화면에서 도착지 찾기를 누르면 지도를 띄워서 도착지에 핑을 찍으라고 할까? 
* 방장이 방만들면 방 정보엔 유저와 평가정보 또한 있어야함. 유저 id?
* 방생성시 채팅방 생성도 해야함. 앱 내에서 챗방 만들어야할 듯
*
* 검색기능
* 방 만들 때 도착지 받는 방법의 연장선일듯
* 도착지 기반으로 주위검색???
* 도착지 핑 찍고 그 주위로 검색 결과를 나열하는 것이 어떨지...
*
* 방 들어갈 때
* 지도에 생성된 핑 클릭시 or 검색으로 나열된 방 클릭시

* 해당 방 DB에 저장된 목적지,도착지 기준으로 경로 생성. -> 지도 API
* 한번 더 클릭시 상세보기..?
* 위도 경도로 저장되있을 좌표를 어떻게 주소로 나타낼지?? ->관련 api 가 있으면 굿
* 생성된 경로 기준으로 예상비용...
* 방에 참여중인 멤버들과 평점
* 참여요청버튼 : 방장에게 푸쉬가서 허락해야함. -> 푸시 API
* 요청자의 평가정보 기반으로 수락/거부
* 사용자는 내가 어느 방에 들가있는지 확인가능해야함. -> 마이페이지??
->1) 방 id 를 사용자 DB에 저장하거나, -> 추가적인 저장공간이 필요함
->2) 방 목록 전체를 query 해서 member 필드를 비교 -> 어캐 코드설계함...??
* 방 나가기, 이용후 상호평가기능
*/

01.09
서버구조
현재: 룸 컬렉션-> 방 문서에 다 때려박음
개선: 룸 컬렉션->현위치 문서 -> 방 컬렉션-> 방 정보
01.10
현위치 문서 이름은 자동생성? 위도, 경도 조합으로?
어차피 문서 내부에 필드로 위도경도 저장할 거니까 상관은 없을 듯?
하위컬렉션 쿼리하기(모든 현위치 문서 안에 있는 방 컬렉션 쿼리하는 법)
https://firebase.google.com/docs/firestore/query-data/queries?hl=ko#collection-group-query

각각의 방을 어떻게 구분할까??
->방 생성시 문서 이름을 자동id생성으로 처리해야 할듯..

사용자 계정 로그인 시도시
Users DB 에 해당 아이디가 존재하지 않으면 넣고 평점정보 초기화
존재할 시 그냥 넘어감. 유저 문서 이름을 유저 id로, 필드에도 넣음
이거 활용하면 될 거 같음.
https://firebase.google.com/docs/firestore/query-data/get-data?hl=ko#get_multiple_documents_from_a_collection
-해결-

상호평가 방법
방장이 해산누르면 방 정보에 저장된 유저id 를 토대로 해당 id 에 대한 점수(0~5)를 받음.
유저 DB에 gradenum+1, gradesum+점수 업데이트

geopoint 는 어떻게 쿼리하지??
파이어스토어는 하나씩밖에 못하는데 경도,위도 2개가 있음...
->도착지는 사용자에게 문자열을 따로 입력받음 ex)동대구역 이거 기반으로 쿼리?
도착지로 지정한 geopoint 주변 검색 : 구글 검색 해봤는데 그냥은 안되는거 같음...

지금 지도파트에서 핑 위 네모칸을 누르면: 현재 위치가 뜸.
이거를 방 목록이 뜨게 해야겠지? 현재위치는 있으니까 이걸 query 하면 현위치 문서를 특정
할 수 있고, 그 하위 콜렉션의 방 문서들을 뜨게 하면 될 거 같음.
원하는 출발지가 없으면 여기에 새로운 방 생성도 만들어야 하나?
말풍선내에서 각각 클릭은 안됨

지금 지도파트에서 핑 생성모드 하고 찍으면
핑 찍히기만 함. 위 네모칸누르면 방 생성. 이걸 출발지로 함.

최초 앱실행해서 지도화면 진입시
현위치 토대로 핑을 찍음. 같은 현위치 내 하위컬렉션은 같은핑에 찍어야함.

01.11
리스트뷰,어레이 어댑터 공부

01.14
체크리스트
1. 하위콜렉션 문서 이름을 방이름으로 받자
   -> 
2. 하위컬렉션 문서 갯수세기 
  -> 지원되는 함수는 없음. 분산카운터? 를 배우던가 문서에 따로 카운터를 추가해야 함.
3. 새 액티비티 : 방정보 받아오는...
  -> 액티비티 넘길 때: 현위치 좌표, 문서이름을 넘겨줘야함.
  -> 그 전 액티비티 화면에는 간략한 정보들이 떠있겠지?
4. 평점을 최근 10건의 평점현황도 볼 수 있게??
  -> 유저 db에 추가적인 저장이 필요함. 배열로 10개까지 하게? 일단 이건 나중에 생각

01.15
방생성
1) 이 위도경도에 방을 처음 만들 때(최초 지도 실행시 가져온 전체 핑 목록 위도경도에 위치가
없을 때): 문서 만들고, 그 위치 위도경도, 출발지 이름, 카운트 생성
2) 이 위도경도의 있는 핑에 방을 만들 때 (전체 핑목록에 있고, 이미 찍힌 방 목록이 있을것임)
 -1 자동아이디로 문서를 만들어 버리면 query 로 db를 읽어야하는 불상사가 발생할듯?
	(그 핑의 문서 id를 찾기 위해...?)
 -2 위도, 경도 조합으로 문서 id를 지정하면 쿼리를 안하고 바로 절대경로 찍으면 될까???

  아무튼 문서 id 찾고 경로 지정해서 사용자 입력 받은 내용 토대로 방 문서 작성.
  도착지 받는거는 지도 찍으라하고 -> 지도API? 도착지 이름을 입력받음.
  초기엔 방 만든 사용자 이메일 정보를 알아야함. ->API 한번더 호출or 인텐트로 넘긴거?
  방 다 만들고나면 상위문서의 카운터에 1을 올려야 함

01.16
방 정보 보기
1) 핑 누르면 핑 위에는 n개의 방이 있습니다. 
-> 그 칸 누르면 간단한 방 목록이 뜨겠지? : 이거 새 액티비티임? 팝업인가?
그 핑에 해당하는 위도경도값은 해당 핑의 메시지 클릭이니까 메소드로 바로 될 듯?
2)간단한 방 목록은 문서이름-하위컬렉션 경로를 준 다음 그 안에거를 싹 다 읽어와야함. : 했음
   그렇다면 이 데이터는 재사용 할 일이 있다면 내부저장소에 넣는게 효율적일수도... 일단 패스
3)간단한 정보는 방 제목이랑 도착지 이름, 시간 정도만 가져올까?
   @@풀방인지 여부도 알면 좋을 것 같음 : memnum=4일 때.
4)그 중 하나 누르면 : 상세 방 정보 새 액티비티로.
   이러면 텍스트뷰로 설정 한다음에 누르면 그 눌렀던 텍스트뷰에서 정보 하나를 빼오고
   조건문을 만들어야 할 것 같은데... 그 정보는 중복되면 안 됨. 방 이름을 필드로 넣고
   문서 이름을 자동id 로 만드는게 나을려나??